{"version":3,"sources":["./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/environments/environment.ts","./src/app/carousel/carousel.component.ts","./src/app/carousel/carousel.component.html","./src/app/product/product.component.ts","./src/app/product/product.component.html","./src/app/pipe/filter.pipe.ts","./src/app/stars/stars.component.ts","./src/app/stars/stars.component.html","./src/app/app.component.ts","./src/app/app.component.html","./src/app/shared/produce.service.ts","./src/app/app.module.ts","./src/app/footer/footer.component.ts","./src/app/footer/footer.component.html","./src/app/navbar/navbar.component.ts","./src/app/navbar/navbar.component.html","./src/app/search/search.component.ts","./src/app/search/search.component.html","./src/app/product-detail/product-detail.component.ts","./src/app/product-detail/product-detail.component.html","./src/app/shared/web-socket.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"row\">\n  <app-carousel></app-carousel>\n</div>\n<div class=\"row\">\n  <app-product></app-product>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  shop_env: \"测试环境\"\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.css']\n})\nexport class CarouselComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"carousel slide\" data-ride=\"carousel\">\n  <ol class=\"carousel-indicators\">\n    <li class=\"active\"></li>\n    <li></li>\n    <li></li>\n  </ol>\n  <div class=\"carousel-inner\">\n    <div class=\"item active\">\n      <img class=\"slide-image\" src=\"http://placehold.it/800x300\" alt=\"\">\n    </div>\n    <div class=\"item\">\n      <img class=\"slide-image\" src=\"http://placehold.it/800x300\" alt=\"\">\n    </div>\n    <div class=\"item\">\n      <img class=\"slide-image\" src=\"http://placehold.it/800x300\" alt=\"\">\n    </div>\n  </div>\n\n  <a class=\"left carousel-control\" href=\"javascript:$('.carousel').carousel('prev')\">\n    <span class=\"glyphicon glyphicon-chevron-left\"></span>\n  </a>\n  <a class=\"right carousel-control\" href=\"javascript:$('.carousel').carousel('next')\">\n    <span class=\"glyphicon glyphicon-chevron-right\"></span>\n  </a>\n</div>\n","\nimport {Component, OnInit} from '@angular/core';\nimport {ProduceService, Product} from '../shared/produce.service';\nimport {FormControl} from '@angular/forms';\nimport {debounceTime} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent implements OnInit {\n\n  // public products: Array<Product>;\n\n  public products:Product[];\n  public keyword:string;\n  public titleFilter:FormControl = new FormControl();\n\n  constructor(private productService:ProduceService) {\n    this.titleFilter.valueChanges.pipe(debounceTime(500)).subscribe(value => this.keyword = value);\n    // this.titleFilter.valueChanges.pipe(debounceTime(500)).subscribe(value => console.log(value));\n    // this.titleFilter.valueChanges.subscribe(this.titleFilter.value);\n  }\n\n  ngOnInit() {\n    // this.products = [\n    //   new Product(1, '第一个商品', 1.19, 1, 'angular demo', ['电子产品', '硬件设备']),\n    //   new Product(2, '第二个商品', 1.39, 2, 'angular demo', ['电子产品', '硬件设备']),\n    //   new Product(3, '第三个商品', 1.79, 3, 'angular demo', ['电子产品', '硬件设备']),\n    //   new Product(4, '第四个商品', 1.29, 4, 'angular demo', ['电子产品', '硬件设备']),\n    //   new Product(5, '第五个商品', 1.61, 3, 'angular demo', ['电子产品', '硬件设备']),\n    // ];\n    // //可以添加一个商品\n    // this.products.push(new Product(6, '第六个商品', 1.32, 3, 'angular demo', ['电子产品', '硬件设备']));\n    // this.products = this.productService.getProducts();\n    this.productService.getProducts().subscribe((response:any) =>{\n      this.products = response;\n    });\n\n    // 接收器\n    this.productService.searchEvent.subscribe(\n      // params => this.products = this.productService.search(params)\n      params => this.productService.search(params).subscribe((response:any) => {\n        this.products = response;\n      })\n    );\n  }\n}\n//\n// export class Product {\n//   constructor(public id: number,\n//                public title: string,\n//                public price: number,\n//                public rating: number,\n//                public desc: string,\n//                public categories: Array<string>) {\n//   }\n// }\n","<p></p>\n<div class=\"row\">\n  <div class=\"col-sm-12\">\n    <div class=\"form-group\">\n      <input class=\"form-control\" placeholder=\"请输入商品名称\" [formControl]=\"titleFilter\">\n<!--      <input class=\"form-control\" placeholder=\"请输入商品名称\" [(ngModel)]=\"keyword\">-->\n    </div>\n  </div>\n</div>\n<div *ngFor=\"let product of products  |filter:'title':keyword\" class=\"col-md-4 col-sm-4 col-lg-4\">\n  <div class=\"thumbnail\">\n    <img src=\"http://placehold.it/320x150\">\n    <div class=\"caption\">\n      <h4 class=\"pull-right\">{{product.title}}元</h4>\n<!--      routerlink地址切换为product.id-->\n      <h4><a [routerLink]=\"['/product',product.id]\">{{product.title}}</a></h4>\n      <p>{{product.desc}}</p>\n    </div>\n    <div>\n      <app-stars [rating]=\"product.rating\"></app-stars>\n    </div>\n  </div>\n</div>\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(list: any[], filterField:string, keyword:string): any {\n    if (!filterField || !keyword){\n      return list;\n    }\n    return list.filter(item => {\n      let fieldValue = item[filterField];\n      return fieldValue.indexOf(keyword) >= 0;\n    });\n  }\n}\n","import {Component, OnInit, Input, Output, EventEmitter, SimpleChanges} from '@angular/core';\n\n@Component({\n  selector: 'app-stars',\n  templateUrl: './stars.component.html',\n  styleUrls: ['./stars.component.css']\n})\nexport class StarsComponent implements OnInit {\n  @Input()\n  public rating:number = 0;\n\n  // 变量名+Change 可以作为双向绑定变量\n  @Output()\n  private ratingChange:EventEmitter<number>=new EventEmitter<number>();\n\n  public stars: boolean[];\n\n  @Input()\n  private readonly :boolean = true;\n\n  constructor() {}\n\n  ngOnInit() {\n  }\n  //通过onchanges函数，对星号点黑\n  ngOnChanges(changes:SimpleChanges):void{\n    this.stars = [];\n    for (let i = 1; i <= 5; i++) {\n      this.stars.push(i > this.rating);\n    }\n  }\n  // 对星号点击，获取数量\n  starClick(index:number){\n    if(!this.readonly){\n      this.rating=index+1;\n      // this.ngOnInit();\n      this.ratingChange.emit(this.rating);\n    }\n  }\n}\n","<!--<span class=\"glyphicon glyphicon-star\"></span>-->\n<p>\n  <span *ngFor=\"let star of stars;let i=index\" class=\"glyphicon glyphicon-star\"\n        [class.glyphicon-star-empty]=\"star\" (click)=\"starClick(i)\">\n  </span>\n  <span> {{rating}}星 </span>\n</p>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'new shop';\n}\n","<app-navbar></app-navbar>\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-md-3\">\n      <app-search></app-search>\n    </div>\n    <div class=\"col-md-9\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n<app-footer></app-footer>\n","import {EventEmitter, Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProduceService {\n\n  // public products :Product[] = [\n  //   new Product(1, '第一个商品', 1.19, 1, 'angular demo', ['电子产品', '硬件设备']),\n  //   new Product(2, '第二个商品', 1.39, 2, 'angular demo', ['电子产品', '硬件设备']),\n  //   new Product(3, '第三个商品', 1.79, 3, 'angular demo', ['电子产品', '硬件设备']),\n  //   new Product(4, '第四个商品', 1.29, 4, 'angular demo', ['电子产品', '硬件设备']),\n  //   new Product(5, '第五个商品', 1.61, 3, 'angular demo', ['电子产品', '硬件设备']),\n  //   new Product(5, '第六个商品', 1.73, 5, 'angular demo', ['电子产品', '硬件设备']),\n  // ];\n  //\n  // public comments:Comment[] = [\n  //   new Comment(1,1,\"2020-02-01 10:30:41\",\"张三\",3,\"东西不错\"),\n  //   new Comment(2,1,\"2020-02-01 11:23:03\",\"李四\",2,\"东西还不错\"),\n  //   new Comment(3,1,\"2020-02-01 12:11:00\",\"王五\",4,\"东西蛮不错的\"),\n  //   new Comment(4,3,\"2020-02-01 11:10:10\",\"赵六\",5,\"东西还行\")\n  // ];\n\n  // product.service.ts作为product.component.ts和search.component.ts两个组件的中间人，定义搜索组件点击事件的流\n  searchEvent:EventEmitter<ProductSearchParams> = new EventEmitter();\n\n  constructor(private http:HttpClient) { }\n\n  search(params:ProductSearchParams):any{\n    // return this.http.get(\"/api/products/\",{search:this.encodeParams(params)});\n    return this.http.get(\"/api/products?title=\"+params.productTitle+\"&price=\"+params.productPrice+\"&category=\"+params.productCategory);\n  }\n  // getProducts(){\n  //   return this.products;\n  // }\n  getProducts(){\n    return this.http.get(\"/api/products\");\n  }\n\n  // getProduct(id:number):Product{\n  //   return this.products.find((product) => product.id == id);\n  // }\n\n  getProduct(id:any):any{\n    const pathurl = \"/api/product/\"+id\n    return this.http.get(pathurl );\n  }\n\n  // getCommentForProductId(id:number):Comment[]{\n  //   return this.comments.filter((comment) => comment.productId == id);\n  // }\n\n  getCommentForProductId(id:any):any{\n    const pathurl = \"/api/product/\"+id + \"/comments\"\n    return this.http.get(pathurl);\n  }\n\n  // getAllCategories(){\n  //   return [\"电子产品\",\"硬件设备\",\"其他\"];\n  // }\n\n  getAllCategories(){\n    return [\"电子产品\",\"硬件设备\",\"其他\"];\n  }\n}\n\nexport class Product {\n  constructor(public id: number,\n              public title: string,\n              public price: number,\n              public rating: number,\n              public desc: string,\n              public categories: Array<string>) {\n  }\n}\n\nexport class Comment {\n  constructor(public id: number,\n              public productId: number,\n              public timestamp: string,\n              public user: string,\n              public rating: number,\n              public content: string) {\n  }\n}\n\nexport class  ProductSearchParams {\n  constructor(public productTitle:string,\n              public productPrice:number,\n              public productCategory :string){\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { NavbarComponent } from './navbar/navbar.component';\nimport { FooterComponent } from './footer/footer.component';\nimport { SearchComponent } from './search/search.component';\nimport { CarouselComponent } from './carousel/carousel.component';\nimport { ProductComponent } from './product/product.component';\nimport { StarsComponent } from './stars/stars.component';\nimport { HomeComponent } from './home/home.component';\nimport { ProductDetailComponent } from './product-detail/product-detail.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {ProduceService} from './shared/produce.service';\nimport { FilterPipe } from './pipe/filter.pipe';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\nimport {WebSocketService} from './shared/web-socket.service';\nimport {HashLocationStrategy, LocationStrategy} from '@angular/common';\n\n\nconst routes:Routes = [\n  {\"path\": '',component: HomeComponent},\n  //将product/:productTitle 路由修改为product/:productId\n  {\"path\": 'product/:productId',component: ProductDetailComponent}\n];\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavbarComponent,\n    FooterComponent,\n    SearchComponent,\n    CarouselComponent,\n    ProductComponent,\n    StarsComponent,\n    HomeComponent,\n    ProductDetailComponent,\n    FilterPipe,\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(routes),\n    ReactiveFormsModule,\n    FormsModule,\n    HttpClientModule,\n  ],\n  providers: [ProduceService,WebSocketService,{provide:LocationStrategy,useClass:HashLocationStrategy}],  //增加PRoductService地址\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-footer',\n  templateUrl: './footer.component.html',\n  styleUrls: ['./footer.component.css']\n})\nexport class FooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"container\">\n  <hr>\n  <footer>\n    <div class=\"row\">\n      <div class=\"col-lg-12\">\n        <p>demo 联系页面</p>\n      </div>\n    </div>\n  </footer>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar navbar-inverse navbar-fixed-top\">\n\t<div class=\"container\">\n\t\t<div class=\"navbar-header\">\n\t\t\t<button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#navbar\">\n\t\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t</button>\n\t\t\t<a class=\"navbar-brand\" href=\"#\">在线竞拍</a>\n\t\t</div>\n\t\t<div id=\"navbar\" class=\"collapse navbar-collapse\">\n\t\t\t<ul class=\"nav navbar-nav\">\n\t\t\t\t<li><a href=\"#\">关于我们</a></li>\n\t\t\t\t<li><a href=\"#\">联系我们</a></li>\n\t\t\t\t<li><a href=\"#\">网站地图</a></li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</nav>","import { Component, OnInit } from '@angular/core';\nimport {FormBuilder, FormControl, FormGroup, Validators} from '@angular/forms';\nimport {ProduceService} from '../shared/produce.service';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit {\n\n  formModel:FormGroup;\n  categories:string[];\n\n\n  constructor(fb:FormBuilder,private produceService:ProduceService) {\n    this.formModel = fb.group({\n      productTitle: ['',Validators.minLength(3)],\n      productPrice: [null,this.productPriceValidator],\n      productCategory: [-1]\n    })\n  }\n\n  ngOnInit(): void {\n    // 表单发送到html\n    this.categories = this.produceService.getAllCategories();\n  }\n\n  // 判断价格是否为整数\n  productPriceValidator(control:FormControl):any{\n    if(!control.value){\n      return null;\n    }\n    let num = parseInt(control.value);\n    if( num > 0 ){\n      return null;\n    }else{\n      return {NumValidator:true}\n    }\n  }\n\n  onSearch(){\n    if (this.formModel.valid){\n      console.log(this.formModel.value);\n      //发射\n      this.produceService.searchEvent.emit(this.formModel.value);\n    }\n  }\n}\n","<form [formGroup]=\"formModel\" (ngSubmit)=\"onSearch()\" novalidate>\n  <!--novalidate:禁用浏览器验证的默认行为-->\n  <div class=\"form-group\" [class.has-error]=\"formModel.hasError('minlength','productTitle')\">\n    <label for=\"productTitle\">商品名称</label>\n    <input formControlName=\"productTitle\" type=\"text\" id=\"productTitle\" placeholder=\"商品名称\" class=\"form-control\">\n    <span class=\"help-block\" [class.hidden]=\"!formModel.hasError('minlength','productTitle')\">\n          请至少输入3个字\n      </span>\n  </div>\n\n  <div class=\"form-group\" [class.has-error]=\"formModel.hasError('NumValidator','productPrice')\">\n    <label for=\"productPrice\">商品价格</label>\n    <input formControlName=\"productPrice\" type=\"number\" id=\"productPrice\" placeholder=\"商品价格\" class=\"form-control\">\n    <span class=\"help-block\" [class.hidden]=\"!formModel.hasError('NumValidator','productPrice')\">\n          请输入正数\n      </span>\n  </div>\n\n  <div class=\"form-group\">\n    <label for=\"productCategory\">商品类别</label>\n    <select formControlName=\"productCategory\" id=\"productCategory\" class=\"form-control\">\n      <option value=\"-1\">全部分类</option>\n      <option *ngFor=\"let category of categories\" [value]=\"category\">{{category}}</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <button type=\"submit\" class=\"btn btn-primary btn-block\">搜索</button>\n  </div>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Comment, ProduceService, Product} from '../shared/produce.service';\nimport {WebSocketService} from '../shared/web-socket.service';\nimport {Subscription} from 'rxjs';\n\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css']\n})\nexport class ProductDetailComponent implements OnInit {\n\n  // productTitle: string;\n  product:Product;\n  comments:Comment[];\n\n  newRating:number=5;\n  newComment:string=\"\";\n  newBuyer:string=\"\";\n\n  isCommentHidden:boolean=true;\n\n  isWatched:boolean = false;\n  currentBid:number=0;\n  subscription:Subscription;\n\n  constructor(private routeInfo: ActivatedRoute,private productService: ProduceService,private ws:WebSocketService) { }\n\n  ngOnInit(): void {\n    // this.productTitle = this.routeInfo.snapshot.params['productTitle'];\n    let productId:number = this.routeInfo.snapshot.params['productId'];\n    // this.product = this.productService.getProduct(productId);\n    this.productService.getProduct(productId).subscribe((response:any) =>{\n      this.product = response;\n      this.currentBid = this.product.price;\n    });\n    // this.comments = this.productService.getCommentForProductId(productId);\n    this.productService.getCommentForProductId(productId).subscribe((response:any) =>{\n      this.comments = response;\n    });\n  }\n\n  // 增加评论功能，当评论结束，计算星的平均数，自动回复到原来的状态\n  addComment(){\n    // 获取评论，并提交\n    let comment = new Comment(0,this.product.id,new Date().toDateString(),this.newBuyer,this.newRating,this.newComment);\n    this.comments.unshift(comment);\n    //计算星的平均数\n    let sum=this.comments.reduce((sum,comment)=> sum+comment.rating,0);\n    this.product.rating = sum / this.comments.length;\n    // 自动回复到原来的状态\n    this.newComment = null;\n    this.newRating = 5;\n    this.isCommentHidden = true;\n  }\n\n  watchProduct(){\n    var _this = this;\n    if (_this.subscription) {\n      _this.subscription.unsubscribe();\n      _this.isWatched = false;\n      _this.subscription = null;\n    } else {\n      _this.isWatched = true;\n      let products: any[];\n      _this.subscription = this.ws.createObservableSocket(\"ws://localhost:8085\", this.product.id)\n        .subscribe(\n          function (products1) {\n            console.log(JSON.parse(products1));\n            products = JSON.parse(products1);\n            _this.currentBid = products[0].bid\n          }\n        );\n    }\n  }\n}\n","<div class=\"thumbnail\">\n  <img src=\"http://placehold.it/820x230\">\n  <div>\n    <h4 class=\"pull-right\">{{ product?.price}}</h4>\n    <h4>{{ product?.title }}</h4>\n    <p>{{ product?.desc }}</p>\n  </div>\n  <div>\n    <p class=\"pull-right\">{{ comments?.length }}</p>\n    <p><app-stars [rating]=\"product?.rating\"></app-stars></p>\n  </div>\n</div>\n<div class=\"thumbnail\">\n  <button class=\"btn btn-default btn-lg\" [class.active] = \"isWatched\" (click)=\"watchProduct()\" >\n    {{isWatched?'取消关注':'关注'}}\n  </button>\n  <label>最新出价：{{currentBid|number:'.1' }}元</label>\n</div>\n<div class=\"well\">\n<!--  增加评论功能，默认为隐藏模式-->\n  <div>\n    <button class=\"btn btn-success\" (click)=\"isCommentHidden = !isCommentHidden\">\n      发表评论\n    </button>\n  </div>\n  <div [hidden]=\"isCommentHidden\">\n    <div><app-stars [readonly]=\"false\" [(rating)]=\"newRating\"></app-stars></div>\n    <div>用户：<input [(ngModel)]=\"newBuyer\"></div>\n    <div><textarea [(ngModel)]=\"newComment\">评论：</textarea></div>\n    <div><button class=\"btn\" (click)=\"addComment()\">提交</button></div>\n  </div>\n  <div class=\"row\" *ngFor=\"let comment of comments\">\n    <hr>\n    <div class=\"col-md-12\">\n      <app-stars [rating]=\"comment.rating\"></app-stars>\n      <span>{{ comment.user }}</span>\n      <span class=\"pull-right\">{{ comment.timestamp }}</span>\n      <p></p>\n      <p>{{ comment.content }}</p>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {webSocket} from 'rxjs/webSocket';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebSocketService {\n\n  private ws:any ;\n  constructor() { }\n\n  /**\n   * 这个方法返回一个流，流中包括服务器推送的消息\n   * @param {string} url\n   * @returns {Observable<any>}\n   */\n  createObservableSocket(url: string,id:number): Observable<any> {\n    // 创建一个websocket对象，这个对象会根据传进去的url去连接指定的websocket服务器\n    this.ws = new WebSocket(url);\n    return new Observable(\n      observer => {\n        // 什么时候发生下一个元素\n        this.ws.onmessage = (event: any) => observer.next(event.data);\n        // 什么时候抛一个异常\n        this.ws.onerror = (event: any) => observer.error(event);\n        // 什么时候发出流结束的信号\n        this.ws.onclose = (event: any) => observer.complete();\n        this.ws.onopen =(event)=> this.sendMessage({productId:id});\n      }\n    );\n  }\n\n  sendMessage(message:any){\n    this.ws.send(JSON.stringify(message));\n  }\n}\n\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n//增加一个判断演示\nconsole.log(environment.shop_env);\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}